<!DOCTYPE html>
<html>
  <head>
    <meta charset='utf-8'>
    <meta http-equiv="X-UA-Compatible" content="chrome=1">
    <link href='https://fonts.googleapis.com/css?family=Chivo:900' rel='stylesheet' type='text/css'>
    <link rel="stylesheet" type="text/css" href="stylesheets/stylesheet.css" media="screen" />
    <link rel="stylesheet" type="text/css" href="stylesheets/pygment_trac.css" media="screen" />
    <link rel="stylesheet" type="text/css" href="stylesheets/print.css" media="print" />
    <!--[if lt IE 9]>
    <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <title>Chii2 MQTT by longkerdandy</title>
  </head>

  <body>
    <div id="container">
      <div class="inner">

        <header>
          <h1>Chii2 MQTT</h1>
          <h2>MQTT Message Server</h2>
        </header>

        <section id="downloads" class="clearfix">
          <a href="https://github.com/longkerdandy/chii2mqtt/zipball/master" id="download-zip" class="button"><span>Download .zip</span></a>
          <a href="https://github.com/longkerdandy/chii2mqtt/tarball/master" id="download-tar-gz" class="button"><span>Download .tar.gz</span></a>
          <a href="https://github.com/longkerdandy/chii2mqtt" id="view-on-github" class="button"><span>View on GitHub</span></a>
        </section>

        <hr>

        <section id="main_content">
          <h3>
<a name="about-chii2-mqtt" class="anchor" href="#about-chii2-mqtt"><span class="octicon octicon-link"></span></a>About Chii2 MQTT.</h3>

<p><a href="http://mqtt.org/">MQTT</a> is a machine-to-machine (M2M)/"Internet of Things" connectivity protocol. It was designed as an extremely lightweight publish/subscribe messaging transport.<br>
Chii2 MQTT provides full <a href="http://www.ibm.com/developerworks/webservices/library/ws-mqtt/index.html">MQTT V3.1 Protocol Specification</a> server side implementation. Chii2 MQTT is written purely in Java, designed to be lightweight fast reliable and extensible, it can run as message broker in standalone mode or embedded mode. The project is under Apache License v2.</p>

<h3>
<a name="roadmap" class="anchor" href="#roadmap"><span class="octicon octicon-link"></span></a>Roadmap</h3>

<p><em>Beta Release: 1.0.0 Snapshot</em></p>

<pre><code>MQTT V3.1 Protocol Specification
        Connect              Completed
        Publish QoS 0        Completed
        Publish QoS 1        Completed
        Publish QoS 2        Completed
        Subscribe            Completed
        UnSubscribe          Completed
        Ping                 Completed
        Disconnect           Completed
        Retain               Completed
        Will                 Not Implemented
        Resend               Partially
        Keep Alive           Not Implemented
        Authorization        Not Implemented
        SSL                  Not Implemented
</code></pre>

<h3>
<a name="bulid" class="anchor" href="#bulid"><span class="octicon octicon-link"></span></a>Bulid</h3>

<p>Chii2 MQTT project using <a href="http://maven.apache.org/">Maven</a> as management and comprehension tool.
To build project from source, you need to install maven on your system. Then clone the source code from <a href="https://github.com/longkerdandy/chii2mqtt">github</a>, and run following command:</p>

<pre><code>$ mvn clean install
</code></pre>

<p>Chii2 MQTT has following dependencies:commons-lang3,commons-dbutils,netty,disruptor,derby,slf4j</p>

<h3>
<a name="running-in-osgi" class="anchor" href="#running-in-osgi"><span class="octicon octicon-link"></span></a>Running in OSGi</h3>

<p>Chii2 MQTT is designed to be OSGi compatible, project has provided a <a href="https://github.com/longkerdandy/chii2mqtt/tree/master/chii2.mqtt.server.sample">sample OSGi server</a>. To build and run the sample:</p>

<pre><code>$ mvn clean install
$ cd assembly
$ java -jar bin/felix.jar
</code></pre>

<p>The derby storage package (bundle) already configured with Blueprint, an IoC container similar to Spring. The sample server also using Blueprint to inject derby storage. The init and destroy method are called from Blueprint life cycle management:</p>

<pre><code>/**
 * Sample OSGi Server
 */
public class OSGiServer {

    // MQTT Server Configuration
    private MQTTServerConfiguration brokerConfiguration;
    // MQTT Server Storage
    private StorageService brokerStorage;
    // MQTT Broker
    private MQTTServer broker;
    // The Logger
    private final Logger logger = LoggerFactory.getLogger(OSGiServer.class);

    /**
     * Injected Storage Service
     */
    public void setBrokerStorage(StorageService brokerStorage) {
        this.brokerStorage = brokerStorage;
    }

    /**
     * OSGi life cycle init
     */
    public void init() {
        logger.info("Chii2 MQTT Server Init.");
        // Init MQTT Server Configuration
        brokerConfiguration = new MQTTServerConfiguration();
        brokerConfiguration.setServerName("Chii2 MQTT Server");
        // Init MQTT Server
        broker = new MQTTServer(brokerConfiguration, brokerStorage);
        broker.start();
    }

    /**
     * OSGi life cycle destroy
     */
    public void destroy() {
        logger.info("Chii2 MQTT Server Destroy.");
        broker.stop();
    }
</code></pre>

<p>If you don't want to use Blueprint, you can declare the derby storage manually with the same way as running Chii2 MQTT embedded.</p>

<h3>
<a name="compatible-clients" class="anchor" href="#compatible-clients"><span class="octicon octicon-link"></span></a>Compatible Clients</h3>

<p>Chii2 MQTT is tested with <a href="http://www.eclipse.org/paho/">Eclipse Paho</a> MQTT client library.</p>

<h3>
<a name="author" class="anchor" href="#author"><span class="octicon octicon-link"></span></a>Author</h3>

<p>Gu Dongxu (<a href="https://github.com/longkerdandy" class="user-mention">@longkerdandy</a>) can be reached at <a href="mailto:longkerdandy@gmail.com">longkerdandy@gmail.com</a>.<br><strong>PS: The author is available to hire at Shanghai, China.</strong></p>
        </section>

        <footer>
          Chii2 MQTT is maintained by <a href="https://github.com/longkerdandy">longkerdandy</a><br>
          This page was generated by <a href="http://pages.github.com">GitHub Pages</a>. Tactile theme by <a href="https://twitter.com/jasonlong">Jason Long</a>.
        </footer>

        
      </div>
    </div>
  </body>
</html>